swagger: "2.0"
info:
  title: InnerPeace API
  version: "1.0.0"

schemes: ["https"]
produces: ["application/json"]

paths:
  /healthz:
    get:
      operationId: healthz
      security: []
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200": { description: "OK" }
    options:
      operationId: healthzOptions
      security: []
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "204": { description: "CORS preflight" }

  /api/{p*}:
    get:
      operationId: passthroughGet
      parameters:
        - name: p
          in: path
          type: string
          required: true
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200": { description: "OK" }
        "401": { description: "Unauthorized" }
    post:
      operationId: passthroughPost
      parameters:
        - name: p
          in: path
          type: string
          required: true
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200": { description: "OK" }
        "401": { description: "Unauthorized" }
    put:
      operationId: passthroughPut
      parameters:
        - name: p
          in: path
          type: string
          required: true
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200": { description: "OK" }
        "401": { description: "Unauthorized" }
    delete:
      operationId: passthroughDelete
      parameters:
        - name: p
          in: path
          type: string
          required: true
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200": { description: "OK" }
        "401": { description: "Unauthorized" }
    options:
      operationId: passthroughOptions
      parameters:
        - name: p
          in: path
          type: string
          required: true
      security: []
      x-google-backend:
        address: "https://innerpeace-api-379484922687.europe-west2.run.app"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "204": { description: "CORS preflight" }

# Note: No securityDefinitions here on purpose; gateway does NOT do JWT.
# Ensure API Keys are NOT enforced in the API config in Console.
